setlocal
pushd %~dp0

echo *****************************************************************************************************************
echo Updating your submodules
echo *****************************************************************************************************************
git submodule init 
git submodule sync
git submodule update

echo 
echo 
echo *****************************************************************************************************************
echo Building P...
echo *****************************************************************************************************************
cd P\Bld
start build.bat 
cd ..\..
echo Done!

echo 
echo 
echo *****************************************************************************************************************
echo Building Corral...
echo *****************************************************************************************************************
cd corral
git submodule init
git submodule update
MSBuild cba.sln
cd ..
cp bin\z3.exe corral\bin\Debug\


popd

echo 
echo 
echo *****************************************************************************************************************
echo Init done. Now, build the translator from Visual Studio.
echo *****************************************************************************************************************
echo 
echo 
